{"version":3,"sources":["ui/home(Header){e}/Admin(AuthRoute)(Header){e}/index.tsx","ui/home(Header){e}/index.tsx","ui/login{e}/index.tsx","ui/login{e}/sub{e}/index.tsx","ui/login{e}/sub{e}/sub2/index.tsx","ui/login{e}/components/LoginBar.tsx","utils/isFsm.ts","ui/home(Header){e}/Admin(AuthRoute)(Header){e}/Test[id].tsx","ui/login{e}/test[id].tsx","ui/login{e}/upper.tsx","ui lazy /^/.*$/ groupOptions: {} namespace object","../.*/(components)/).*/.(tsx|jsx|ts)$","utils/autoRouter.tsx","App.tsx","reportWebVitals.ts","services/mock/index.ts","index.tsx","ui/home(Header){e}/CookieShop(Header)/components/Header/index.tsx","ui/home(Header){e}/CookieShop(Header)/components/Shop/index.tsx","ui/home(Header){e}/CookieShop(Header)/components/Login/index.tsx","ui/home(Header){e}/CookieShop(Header)/components/Accond/index.tsx","services/machineFactory/ShopMachine.ts","ui/home(Header){e}/CookieShop(Header)/index.tsx","ui/err/index.tsx"],"names":["Admin","props","console","log","to","HOME","className","gutter","span","title","bordered","style","width","hoverable","pathname","state","a","b","Login","location","Sub","index","LoginBar","isDebugFsm","process","DebugFsm","root","document","createElement","querySelector","remove","id","body","appendChild","Test","params","match","Upper","map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","all","slice","keys","Object","module","exports","webpackContext","webpackContextResolve","pathHandle","key","replace","routerHandle","routers","routerMap","path","Route","resultArr","myRouteName","lazy","isExact","isTop","makeRouterMap","routerMapKeys","forEach","parentPath","parent","children","push","topRouters","route","items","Item","toLowerCase","exact","component","default","childrenRouteHandler","require","App","fallback","render","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Mock","setup","timeout","mock","res","success","data","username","email","adress","phoneNumber","ReactDOM","getElementById","Header","isLoading","send","ghost","subTitle","extra","onClick","Shop","produts","header","dataSource","renderItem","item","Text","mark","marginLeft","type","value","borderBottom","marginBottom","name","labelCol","wrapperCol","initialValues","remember","onFinish","values","onFinishFailed","errorInfo","autoComplete","label","rules","required","message","offset","htmlType","Accond","user","order","cart","footer","length","join","color","address","shopMachine","createMachine","initial","context","errMsg","prds","states","shopPage","loginCheck","on","toCheck","cond","ctx","target","login","toAccond","addCart","actions","assign","produce","pre","toLogout","logout","toLogin","loginPage","toBack","toSubmit","submitting","invoke","src","onDone","onError","submitOk","after","accondPage","toShop","toDeal","dealling","dealOK","services","submitService","axios","post","shopMachineAtom","atomWithMachine","devTools","dealService","CookieShop","useAtom","useEffect","currentState","currentStateKey","Err","status"],"mappings":"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","file":"static/js/main.f70590c2.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function Admin(props: any) {\r\n  console.log(props);\r\n  return (\r\n    <div>\r\n      <h2>Admin</h2>\r\n      <Link to=\"/\">回到主页</Link>\r\n      <p></p>\r\n      <Link to=\"/home/admin/test/45\">测试页test 动态子路由</Link>\r\n    </div>\r\n  );\r\n}\r\n","import { Card, Col, Row } from \"antd\";\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function HOME() {\r\n  return (\r\n    <div className=\"site-card-wrapper\">\r\n      <Row gutter={16}>\r\n        <Col span={8}>\r\n          <Card\r\n            title=\"基于文件路径的路由系统\"\r\n            bordered={true}\r\n            style={{ width: 300 }}\r\n            hoverable\r\n          >\r\n            <h1>路由主页</h1>\r\n            <Link to=\"/home/admin\">\r\n              {/* toAdmin state:{`【${auth.toString()}】`} */}\r\n              验证页面 登录状态:{`true`}\r\n            </Link>\r\n            <p></p>\r\n            {/* 路由传值 */}\r\n            <Link to={{ pathname: \"/login\", state: { a: 4, b: 5 } }}>\r\n              登录页\r\n            </Link>\r\n            <p></p>\r\n            <Link to=\"/err\">错误页</Link>\r\n          </Card>\r\n        </Col>\r\n        <Col span={8}>\r\n          <Card\r\n            title=\"xstate ddd 示例\"\r\n            bordered={true}\r\n            style={{ width: 300 }}\r\n            hoverable\r\n          >\r\n            <Link to=\"/home/cookieshop\">xstate 测试</Link>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function Login(this: any, props: any) {\r\n  // 路由传值：state\r\n  console.log(props.location.state);\r\n  return (\r\n    <div>\r\n      <h2>登录页</h2>\r\n      <hr />\r\n      <Link to=\"/\">回到主页</Link>\r\n\r\n      <p></p>\r\n      <Link to=\"/login/test/45\">/test/45 动态文件子路由</Link>\r\n      <p></p>\r\n      <Link to=\"/login/sub\">/sub 文件夹子路由</Link>\r\n      <Link to=\"/login/upper\">/upper 文件子路由 </Link>\r\n      <p></p>\r\n      <Link to=\"/login/sub/sub2\">/sub/sub2 二级文件夹子路由</Link>\r\n      <p></p>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function Sub() {\r\n  return (\r\n    <div>\r\n      <h2>Login sub</h2>\r\n      <Link to=\"/\">回到主页</Link>\r\n      <p></p>\r\n      <Link to=\"/login/test/45\">toLogin test</Link>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function index() {\r\n  return (\r\n    <div>\r\n      <h2>Login sub2</h2>\r\n      <Link to=\"/\">主页</Link>\r\n      <p></p>\r\n      <Link to=\"/login\">登录页</Link>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function LoginBar() {\r\n  return (\r\n    <div>\r\n      <hr />\r\n      <h2>非路由组件测试</h2>\r\n      <br />\r\n    </div>\r\n  );\r\n}\r\n","import { inspect } from \"@xstate/inspect\";\r\nimport Split from \"split.js\";\r\n\r\nexport function isDebugFsm() {\r\n  return process.env.NODE_ENV === \"development\";\r\n}\r\n\r\nexport function DebugFsm() {\r\n  if (isDebugFsm()) {\r\n    inspect({\r\n      iframe: document.getElementById(\"xstate-inspect\") as any,\r\n      url: \"https://apis.leping.fun/viz?inspect&panel=false\",\r\n    });\r\n\r\n    Split([\"#xstate-inspect\", \"#root\"], { minSize: 0, sizes: [0, 100] });\r\n  } else {\r\n    const root = document.createElement(\"div\");\r\n\r\n    document.querySelector(\".split\")?.remove?.();\r\n    root.id = \"root\";\r\n    document.body.appendChild(root);\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function Test(props: any) {\r\n  console.log(props);\r\n  const params = props.match.params;\r\n  return (\r\n    <div>\r\n      <h1>test/:id 动态子路由</h1>\r\n      <h2>Test:{params.id}</h2>\r\n      <Link to=\"/\">回到主页</Link>\r\n      <p></p>\r\n      <Link to=\"/home/admin/test/4556\">动态路由:test/4556</Link>\r\n      <p></p>\r\n      <Link to=\"/home/admin/test/45\">动态路由:test/45</Link>\r\n    </div>\r\n  );\r\n}\r\n","import { Link } from \"react-router-dom\";\r\nimport LoginBar from \"./components/LoginBar\";\r\n\r\nexport default function Test(props: any) {\r\n  console.log(props);\r\n  const params = props.match.params;\r\n  return (\r\n    <div>\r\n      <h2>Login Test:{params.id}</h2>\r\n      <Link to=\"/login\">登录页</Link>\r\n      <p></p>\r\n      <Link to=\"/login/test/4556\">测试4556</Link>\r\n      <p></p>\r\n      <Link to=\"/login/test/45\">测试45</Link>\r\n      <LoginBar></LoginBar>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function Upper() {\r\n  return (\r\n    <div>\r\n      <h2>Login upper</h2>\r\n      <Link to=\"/login\">登录页</Link>\r\n      <p></p>\r\n      <Link to=\"/login/test/45\">toLogin test</Link>\r\n    </div>\r\n  );\r\n}\r\n","var map = {\n\t\"./components/AuthRoute\": [\n\t\t162,\n\t\t0\n\t],\n\t\"./components/AuthRoute/\": [\n\t\t162,\n\t\t0\n\t],\n\t\"./components/AuthRoute/index\": [\n\t\t162,\n\t\t0\n\t],\n\t\"./components/AuthRoute/index.tsx\": [\n\t\t162,\n\t\t0\n\t],\n\t\"./components/Header\": [\n\t\t160,\n\t\t1\n\t],\n\t\"./components/Header/\": [\n\t\t160,\n\t\t1\n\t],\n\t\"./components/Header/index\": [\n\t\t160,\n\t\t1\n\t],\n\t\"./components/Header/index.tsx\": [\n\t\t160,\n\t\t1\n\t],\n\t\"./err\": [\n\t\t99\n\t],\n\t\"./err/\": [\n\t\t99\n\t],\n\t\"./err/index\": [\n\t\t99\n\t],\n\t\"./err/index.tsx\": [\n\t\t99\n\t],\n\t\"./home(Header){e}\": [\n\t\t103\n\t],\n\t\"./home(Header){e}/\": [\n\t\t103\n\t],\n\t\"./home(Header){e}/Admin(AuthRoute)(Header){e}\": [\n\t\t100\n\t],\n\t\"./home(Header){e}/Admin(AuthRoute)(Header){e}/\": [\n\t\t100\n\t],\n\t\"./home(Header){e}/Admin(AuthRoute)(Header){e}/Test[id]\": [\n\t\t164\n\t],\n\t\"./home(Header){e}/Admin(AuthRoute)(Header){e}/Test[id].tsx\": [\n\t\t164\n\t],\n\t\"./home(Header){e}/Admin(AuthRoute)(Header){e}/index\": [\n\t\t100\n\t],\n\t\"./home(Header){e}/Admin(AuthRoute)(Header){e}/index.tsx\": [\n\t\t100\n\t],\n\t\"./home(Header){e}/CookieShop(Header)\": [\n\t\t97\n\t],\n\t\"./home(Header){e}/CookieShop(Header)/\": [\n\t\t97\n\t],\n\t\"./home(Header){e}/CookieShop(Header)/components/Accond\": [\n\t\t89\n\t],\n\t\"./home(Header){e}/CookieShop(Header)/components/Accond/\": [\n\t\t89\n\t],\n\t\"./home(Header){e}/CookieShop(Header)/components/Accond/index\": [\n\t\t89\n\t],\n\t\"./home(Header){e}/CookieShop(Header)/components/Accond/index.tsx\": [\n\t\t89\n\t],\n\t\"./home(Header){e}/CookieShop(Header)/components/Header\": [\n\t\t86\n\t],\n\t\"./home(Header){e}/CookieShop(Header)/components/Header/\": [\n\t\t86\n\t],\n\t\"./home(Header){e}/CookieShop(Header)/components/Header/index\": [\n\t\t86\n\t],\n\t\"./home(Header){e}/CookieShop(Header)/components/Header/index.tsx\": [\n\t\t86\n\t],\n\t\"./home(Header){e}/CookieShop(Header)/components/Login\": [\n\t\t88\n\t],\n\t\"./home(Header){e}/CookieShop(Header)/components/Login/\": [\n\t\t88\n\t],\n\t\"./home(Header){e}/CookieShop(Header)/components/Login/index\": [\n\t\t88\n\t],\n\t\"./home(Header){e}/CookieShop(Header)/components/Login/index.tsx\": [\n\t\t88\n\t],\n\t\"./home(Header){e}/CookieShop(Header)/components/Shop\": [\n\t\t87\n\t],\n\t\"./home(Header){e}/CookieShop(Header)/components/Shop/\": [\n\t\t87\n\t],\n\t\"./home(Header){e}/CookieShop(Header)/components/Shop/index\": [\n\t\t87\n\t],\n\t\"./home(Header){e}/CookieShop(Header)/components/Shop/index.tsx\": [\n\t\t87\n\t],\n\t\"./home(Header){e}/CookieShop(Header)/index\": [\n\t\t97\n\t],\n\t\"./home(Header){e}/CookieShop(Header)/index.tsx\": [\n\t\t97\n\t],\n\t\"./home(Header){e}/CookieShop/components/Accond\": [\n\t\t161,\n\t\t2\n\t],\n\t\"./home(Header){e}/CookieShop/components/Accond/\": [\n\t\t161,\n\t\t2\n\t],\n\t\"./home(Header){e}/CookieShop/components/Accond/index\": [\n\t\t161,\n\t\t2\n\t],\n\t\"./home(Header){e}/CookieShop/components/Accond/index.tsx\": [\n\t\t161,\n\t\t2\n\t],\n\t\"./home(Header){e}/index\": [\n\t\t103\n\t],\n\t\"./home(Header){e}/index.tsx\": [\n\t\t103\n\t],\n\t\"./login{e}\": [\n\t\t104\n\t],\n\t\"./login{e}/\": [\n\t\t104\n\t],\n\t\"./login{e}/components/LoginBar\": [\n\t\t122\n\t],\n\t\"./login{e}/components/LoginBar.tsx\": [\n\t\t122\n\t],\n\t\"./login{e}/index\": [\n\t\t104\n\t],\n\t\"./login{e}/index.tsx\": [\n\t\t104\n\t],\n\t\"./login{e}/sub{e}\": [\n\t\t105\n\t],\n\t\"./login{e}/sub{e}/\": [\n\t\t105\n\t],\n\t\"./login{e}/sub{e}/index\": [\n\t\t105\n\t],\n\t\"./login{e}/sub{e}/index.tsx\": [\n\t\t105\n\t],\n\t\"./login{e}/sub{e}/sub2\": [\n\t\t106\n\t],\n\t\"./login{e}/sub{e}/sub2/\": [\n\t\t106\n\t],\n\t\"./login{e}/sub{e}/sub2/index\": [\n\t\t106\n\t],\n\t\"./login{e}/sub{e}/sub2/index.tsx\": [\n\t\t106\n\t],\n\t\"./login{e}/test[id]\": [\n\t\t171\n\t],\n\t\"./login{e}/test[id].tsx\": [\n\t\t171\n\t],\n\t\"./login{e}/upper\": [\n\t\t172\n\t],\n\t\"./login{e}/upper.tsx\": [\n\t\t172\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 218;\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./err/index.tsx\": 99,\n\t\"./home(Header){e}/Admin(AuthRoute)(Header){e}/Test[id].tsx\": 164,\n\t\"./home(Header){e}/Admin(AuthRoute)(Header){e}/index.tsx\": 100,\n\t\"./home(Header){e}/CookieShop(Header)/index.tsx\": 97,\n\t\"./home(Header){e}/index.tsx\": 103,\n\t\"./login{e}/index.tsx\": 104,\n\t\"./login{e}/sub{e}/index.tsx\": 105,\n\t\"./login{e}/sub{e}/sub2/index.tsx\": 106,\n\t\"./login{e}/test[id].tsx\": 171,\n\t\"./login{e}/upper.tsx\": 172\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 226;","import { lazy } from \"react\";\r\nimport { Route } from \"react-router-dom\";\r\n\r\nconst COMPONENT_DIR = \"components/\";\r\n\r\nconst IS_EXACT = \"e\"; // 是否使用 exact 修饰\r\n\r\nfunction pathHandle(key: string) {\r\n  let path = key\r\n    .replace(/^\\./, \"\")\r\n    .replace(/\\.(tsx|jsx|js)$/, \"\")\r\n    .replace(/\\/index(\\[\\w+])*$/, \"$1\")\r\n    .replace(/\\[(\\w+)]/g, \"/:$1\")\r\n    .replace(/\\/\\//g, \"/\");\r\n  return path;\r\n}\r\n\r\nfunction makeRouterMap(routers: any) {\r\n  let routerMap = {} as any;\r\n  let keys = routers.keys();\r\n  for (let key of keys) {\r\n    let path = pathHandle(key);\r\n\r\n    let Route = null;\r\n    // 采用正则分组的方式，取出组件名和配置，需注意匹配顺序 (){}[]\r\n    let resultArr =\r\n      (path.match(/(\\(\\w+\\))*({\\w+})*(\\/Default)*(:\\w+)*$/) as string[]) || [];\r\n    // 处理路由组件\r\n    if (resultArr[1]) {\r\n      let myRouteName = resultArr[1].replace(/(\\(|\\))/g, \"\");\r\n      Route = lazy(() => import(\"../ui/\" + COMPONENT_DIR + myRouteName)) as any;\r\n    }\r\n    // 处理{}配置，可扩展\r\n    let isExact = false;\r\n    if (resultArr[2] && resultArr[2] === `{${IS_EXACT}}`) {\r\n      isExact = true;\r\n    }\r\n    // 清除路由内配置\r\n    path = path.replace(/(\\((\\w+)\\))/g, \"\").replace(/{\\w+}/g, \"\");\r\n\r\n    routerMap[path] = {\r\n      path,\r\n      isTop: true,\r\n      key,\r\n      Route,\r\n      isExact, // 添加上 exact 状态\r\n    };\r\n  }\r\n  return routerMap;\r\n}\r\n\r\nexport function childrenRouteHandler(items: any, routers: any) {\r\n  return items.map((Item: any) => {\r\n    let path = Item.path.toLowerCase();\r\n    if (Item.Route) {\r\n      return (\r\n        <Item.Route\r\n          key={path}\r\n          exact\r\n          path={`${path.replace(/\\/default$/, \"\")}`}\r\n          component={routers(Item.key).default}\r\n        ></Item.Route>\r\n      );\r\n    }\r\n    return (\r\n      <Route\r\n        key={path}\r\n        exact\r\n        path={`${path.replace(/\\/default$/, \"\")}`}\r\n        component={routers(Item.key).default}\r\n      ></Route>\r\n    );\r\n  });\r\n}\r\n\r\nexport default function routerHandle(routers: any) {\r\n  let routerMap = makeRouterMap(routers);\r\n  let routerMapKeys = Object.keys(routerMap);\r\n\r\n  routerMapKeys.forEach((key) => {\r\n    let parentPath = key.replace(/\\/:\\w+$/, \"\").replace(/\\/\\w+$/, \"\");\r\n    let parent = routerMap[parentPath];\r\n    // 判断 excat 的使用，由于没有子路由的情况下会自动添加 exact，只要去掉子集即可\r\n    if (parent && !parent.isExact) {\r\n      routerMap[key].isTop = false;\r\n      parent.children.push(routerMap[key]);\r\n    }\r\n  });\r\n\r\n  let topRouters = [] as any[];\r\n  routerMapKeys.forEach((key) => {\r\n    let route = routerMap[key];\r\n    if (route.isTop) {\r\n      topRouters.push(route);\r\n    }\r\n  });\r\n\r\n  return childrenRouteHandler(topRouters, routers);\r\n}\r\n","import React, { Suspense } from \"react\";\nimport \"./App.css\";\nimport routerHandle from \"@utils/autoRouter\";\nimport {\n  HashRouter as Router,\n  Redirect,\n  Route,\n  Switch,\n} from \"react-router-dom\";\n\n// 通过正则排除无需创建路由文件夹，这里排除的是 components 下包含的文件\nconst routers = require.context(\n  \"./ui/\",\n  true,\n  /^(?!.*\\/(components)\\/).*\\.(tsx|jsx|ts)$/\n);\n\nfunction App() {\n  return (\n    <Router>\n      <div className=\"App\">\n        <Suspense fallback={<>加载中···</>}>\n          <Switch>\n            {routerHandle(routers)}\n            <Route path=\"/\" exact render={() => <Redirect to=\"/home\" />} />\n            <Route path=\"*\" exact render={() => <Redirect to=\"/err\" />} />\n          </Switch>\n        </Suspense>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from \"web-vitals\";\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import Mock from \"mockjs\";\r\nMock.setup({\r\n  timeout: \"500-1500\",\r\n});\r\nMock.mock(\"/api/submit\", \"post\", (res) => {\r\n  console.log(res);\r\n  return {\r\n    success: true,\r\n    data: {\r\n      username: \"qq\",\r\n      email: \"123@qq.com\",\r\n      adress: \"成都市\",\r\n      phoneNumber: \"123231231\",\r\n    },\r\n  };\r\n});\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.less\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { DebugFsm } from \"./utils/isFsm\";\n\nimport \"@mock/index\";\nimport \"antd/dist/antd.min.css\";\nDebugFsm();\n\nReactDOM.render(<App></App>, document.getElementById(\"root\") as HTMLElement);\n\nreportWebVitals();\n","import { Button, PageHeader } from \"antd\";\r\nimport React from \"react\";\r\n\r\nconst Header = ({ isLoading, send, username = \"\" }: any) => (\r\n  <PageHeader\r\n    ghost={false}\r\n    // onBack={() => window.history.back()}\r\n    title=\"Xstate Shop Example\"\r\n    subTitle=\"This is a test\"\r\n    extra={[\r\n      <Button\r\n        key=\"login\"\r\n        onClick={() => send(`${isLoading ? \"toAccond\" : \"toLogin\"}`)}\r\n      >\r\n        {isLoading ? username : \"登录\"}\r\n      </Button>,\r\n      <Button\r\n        key=\"logout\"\r\n        onClick={() => {\r\n          send(\"toLogout\");\r\n        }}\r\n      >\r\n        {isLoading ? `登出` : \"-\"}\r\n      </Button>,\r\n    ]}\r\n  ></PageHeader>\r\n);\r\n\r\nexport default Header;\r\n","import { Button, List, Typography } from \"antd\";\r\n\r\nconst Shop = ({ isLoading, produts, send }: any) => (\r\n  <List\r\n    header={<div>Cookie Menu</div>}\r\n    // footer={<div>Footer</div>}\r\n    bordered\r\n    dataSource={produts}\r\n    renderItem={(item) => (\r\n      <List.Item>\r\n        <>\r\n          <Typography.Text mark>[Cookie]</Typography.Text> 产品:{item}\r\n          {isLoading ? (\r\n            <Button\r\n              key={\"产品\" + item}\r\n              style={{ marginLeft: 20 }}\r\n              onClick={() =>\r\n                send({\r\n                  type: \"addCart\",\r\n                  value: \"产品\" + item,\r\n                })\r\n              }\r\n            >\r\n              添加到购物车\r\n            </Button>\r\n          ) : null}\r\n        </>\r\n      </List.Item>\r\n    )}\r\n  />\r\n);\r\nexport default Shop;\r\n","import { Button, Form, Input, PageHeader } from \"antd\";\r\nimport React from \"react\";\r\n\r\nconst Login = ({ send }: any) => {\r\n  const onFinish = (values: any) => {\r\n    console.log(\"Success:\", values);\r\n    send({ type: \"toSubmit\", value: values });\r\n  };\r\n\r\n  const onFinishFailed = (errorInfo: any) => {\r\n    console.log(\"Failed:\", errorInfo);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <PageHeader\r\n        ghost={false}\r\n        // onBack={() => window.history.back()}\r\n        title=\"Login\"\r\n        subTitle=\"请登录\"\r\n        extra={[\r\n          <Button key=\"login\" onClick={() => send(\"toBack\")}>\r\n            返回\r\n          </Button>,\r\n        ]}\r\n        style={{ borderBottom: \"1px solid rgba(0,0,0,.2)\", marginBottom: 30 }}\r\n      ></PageHeader>\r\n      <Form\r\n        name=\"login\"\r\n        labelCol={{\r\n          span: 4,\r\n        }}\r\n        wrapperCol={{\r\n          span: 8,\r\n        }}\r\n        initialValues={{\r\n          remember: true,\r\n        }}\r\n        onFinish={onFinish}\r\n        onFinishFailed={onFinishFailed}\r\n        autoComplete=\"off\"\r\n      >\r\n        <Form.Item\r\n          label=\"Username\"\r\n          name=\"username\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"Please input your username!\",\r\n            },\r\n          ]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          label=\"Email\"\r\n          name=\"email\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"Please input your email!\",\r\n            },\r\n          ]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          wrapperCol={{\r\n            offset: 4,\r\n            span: 12,\r\n          }}\r\n        >\r\n          <Button type=\"primary\" htmlType=\"submit\">\r\n            登录\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    </>\r\n  );\r\n};\r\nexport default Login;\r\n","import { Button, Form, Input, List, PageHeader, Typography } from \"antd\";\r\n\r\nconst Accond = ({ user, order, cart, send }: any) => {\r\n  const onFinish = (values: any) => {\r\n    console.log(\"Success:\", values);\r\n    send({ type: \"toDeal\", value: values });\r\n  };\r\n\r\n  const onFinishFailed = (errorInfo: any) => {\r\n    console.log(\"Failed:\", errorInfo);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <PageHeader\r\n        ghost={false}\r\n        // onBack={() => window.history.back()}\r\n        title={user.username}\r\n        subTitle={user.email}\r\n        extra={[\r\n          <Button key=\"shop\" onClick={() => send(\"toShop\")}>\r\n            返回\r\n          </Button>,\r\n        ]}\r\n      ></PageHeader>\r\n      <List\r\n        header={<div>Cart</div>}\r\n        footer={\r\n          cart.length > 0 && (\r\n            <Form\r\n              name=\"login\"\r\n              labelCol={{\r\n                span: 4,\r\n              }}\r\n              // wrapperCol={{\r\n              //   span: 8,\r\n              // }}\r\n              initialValues={{\r\n                remember: true,\r\n              }}\r\n              onFinish={onFinish}\r\n              onFinishFailed={onFinishFailed}\r\n              autoComplete=\"off\"\r\n            >\r\n              <Form.Item\r\n                label=\"地址\"\r\n                name=\"address\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: \"Please input your address!\",\r\n                  },\r\n                ]}\r\n              >\r\n                <Input />\r\n              </Form.Item>\r\n\r\n              <Form.Item\r\n                label=\"联系方式\"\r\n                name=\"phoneNumber\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: \"Please input your phoneName!\",\r\n                  },\r\n                ]}\r\n              >\r\n                <Input />\r\n              </Form.Item>\r\n\r\n              <Form.Item\r\n                wrapperCol={{\r\n                  offset: 4,\r\n                }}\r\n              >\r\n                <Button type=\"primary\" htmlType=\"submit\">\r\n                  下单\r\n                </Button>\r\n              </Form.Item>\r\n            </Form>\r\n          )\r\n        }\r\n        bordered\r\n        dataSource={cart}\r\n        renderItem={(item) => (\r\n          <List.Item>\r\n            <>\r\n              <Typography.Text mark>[Cookie]</Typography.Text> 产品:{item}\r\n            </>\r\n          </List.Item>\r\n        )}\r\n      />\r\n\r\n      <List\r\n        header={<div>Order</div>}\r\n        bordered\r\n        dataSource={order}\r\n        renderItem={(item: any) => (\r\n          <List.Item>\r\n            <Typography.Text mark>[Order]</Typography.Text> order:\r\n            {item.join(\" - \")}\r\n            <p style={{ color: \"ButtonShadow\" }}>\r\n              {`地址:${user.address} 电话:${user.phoneNumber}`}\r\n            </p>\r\n          </List.Item>\r\n        )}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Accond;\r\n","import { assign, createMachine } from \"xstate\";\r\nimport { produce } from \"immer\";\r\nimport axios from \"axios\";\r\nconst shopMachine = createMachine(\r\n  {\r\n    id: \"cookieShop\",\r\n    initial: \"shopPage\",\r\n    context: {\r\n      isLoading: false,\r\n      cart: [],\r\n      order: [],\r\n      user: {\r\n        username: \"\",\r\n        email: \"\",\r\n        address: \"\",\r\n        phoneNumber: \"\",\r\n      },\r\n      errMsg: \"\",\r\n      prds: [1, 2, 3, 4, 5, 6, 7],\r\n    },\r\n    states: {\r\n      shopPage: {\r\n        initial: \"loginCheck\",\r\n        states: {\r\n          loginCheck: {\r\n            on: {\r\n              toCheck: [\r\n                {\r\n                  cond: (ctx) => ctx.isLoading,\r\n                  target: \"login\",\r\n                },\r\n                {\r\n                  cond: (ctx) => !ctx.isLoading,\r\n                  target: \"logout\",\r\n                },\r\n              ],\r\n            },\r\n          },\r\n          login: {\r\n            on: {\r\n              toAccond: {\r\n                target: \"#cookieShop.accondPage\",\r\n              },\r\n              addCart: {\r\n                actions: assign({\r\n                  cart: ({ cart }, e: any) =>\r\n                    produce(cart, (pre: any) => {\r\n                      pre.push(e.value);\r\n                      return pre;\r\n                    }),\r\n                }),\r\n              },\r\n              toLogout: {\r\n                actions: assign({\r\n                  user: () => ({\r\n                    username: \"\",\r\n                    email: \"\",\r\n                  }),\r\n                  isLoading: () => false,\r\n                }),\r\n                target: \"#cookieShop.shopPage.logout\",\r\n              },\r\n            } as any,\r\n          },\r\n          logout: {\r\n            on: {\r\n              toLogin: {\r\n                target: \"#cookieShop.loginPage\",\r\n              },\r\n            },\r\n          },\r\n        },\r\n      },\r\n      loginPage: {\r\n        on: {\r\n          toBack: [\r\n            {\r\n              cond: (ctx: { isLoading: any }) => ctx.isLoading,\r\n              target: \"#cookieShop.shopPage.login\",\r\n            },\r\n            {\r\n              cond: (ctx: { isLoading: any }) => !ctx.isLoading,\r\n              target: \"#cookieShop.shopPage.logout\",\r\n            },\r\n          ],\r\n          toSubmit: {\r\n            target: \"#cookieShop.loginPage.submitting\",\r\n            actions: assign({\r\n              user: ({ user }, e: any) => e.value,\r\n            }),\r\n          },\r\n        } as any,\r\n        states: {\r\n          submitting: {\r\n            invoke: {\r\n              id: \"submitService\",\r\n              src: \"submitService\",\r\n              onDone: {\r\n                target: \"#cookieShop.loginPage.submitOk\",\r\n                actions: assign({\r\n                  isLoading: () => true,\r\n                }),\r\n              },\r\n              onError: {\r\n                target: \"#cookieShop.loginPage\",\r\n                actions: assign({\r\n                  user: () => ({ username: \"\", email: \"\" }),\r\n                  errMsg: (ctx, e: any) => e.data,\r\n                }),\r\n              },\r\n            },\r\n          } as any,\r\n          submitOk: {\r\n            after: {\r\n              1000: \"#cookieShop.shopPage.login\",\r\n            },\r\n          },\r\n        },\r\n      },\r\n      accondPage: {\r\n        initial: \"cart\",\r\n        on: {\r\n          toShop: \"#cookieShop.shopPage.login\",\r\n          toDeal: {\r\n            target: \"#cookieShop.accondPage.dealling\",\r\n            actions: assign({\r\n              order: ({ order, cart }) =>\r\n                produce(order, (pre: any) => {\r\n                  pre.push(cart);\r\n                  return pre;\r\n                }),\r\n              cart: () => [],\r\n              user: ({ user }, e: any) =>\r\n                produce(user, (pre: any) => {\r\n                  return { ...pre, ...e.value };\r\n                }),\r\n            }),\r\n          },\r\n        } as any,\r\n        states: {\r\n          dealling: {\r\n            invoke: {\r\n              id: \"deal\",\r\n              src: \"dealService\",\r\n              onDone: {\r\n                target: \"dealOK\",\r\n              },\r\n              onError: {\r\n                target: \"#cookieShop.accondPage\",\r\n                actions: assign({\r\n                  errMsg: (ctx, e: any) => e.data,\r\n                }),\r\n              },\r\n            } as any,\r\n          },\r\n          dealOK: {\r\n            after: {\r\n              500: {\r\n                target: \"#cookieShop.accondPage\",\r\n              },\r\n            },\r\n          },\r\n          cart: {\r\n            on: {},\r\n          },\r\n        },\r\n      },\r\n    },\r\n  },\r\n  {\r\n    services: {\r\n      submitService: ({ user }) => axios.post(\"/api/submit\", user),\r\n    },\r\n  }\r\n);\r\n\r\nexport default shopMachine;\r\n","import { useEffect } from \"react\";\r\nimport shopMachine from \"../../../services/machineFactory/ShopMachine\";\r\nimport { atomWithMachine } from \"jotai/xstate\";\r\nimport { useAtom } from \"jotai\";\r\nimport axios from \"axios\";\r\n\r\nimport Header from \"./components/Header\";\r\nimport Shop from \"./components/Shop\";\r\nimport Login from \"./components/Login\";\r\nimport Accond from \"./components/Accond\";\r\nimport { isDebugFsm } from \"@utils/isFsm\";\r\n\r\nexport const shopMachineAtom = atomWithMachine(shopMachine, {\r\n  devTools: isDebugFsm,\r\n  services: {\r\n    dealService: ({ user }, e) => {\r\n      console.log(e);\r\n      return axios.post(\"/api/submit\", user);\r\n    },\r\n  },\r\n});\r\n\r\nexport default function CookieShop() {\r\n  const [state, send] = useAtom(shopMachineAtom);\r\n  // const [state, send] = useMachine(shopMachine, { devTools: true });\r\n  const { isLoading, user, prds } = state.context;\r\n  useEffect(() => {\r\n    send(\"toCheck\");\r\n  }, []);\r\n\r\n  // 状态判断\r\n  const currentState = state.value;\r\n  let currentStateKey = \"\";\r\n  if (currentState instanceof Object) {\r\n    currentStateKey = Object.keys(currentState)[0];\r\n  } else {\r\n    currentStateKey = currentState;\r\n  }\r\n\r\n  // 状态渲染\r\n  const render = () => {\r\n    switch (currentStateKey) {\r\n      case \"shopPage\":\r\n        return (\r\n          <>\r\n            <Header\r\n              isLoading={isLoading}\r\n              username={user.username}\r\n              send={send}\r\n            ></Header>\r\n            <Shop isLoading={isLoading} produts={prds} send={send}></Shop>\r\n          </>\r\n        );\r\n      case \"loginPage\":\r\n        return <Login send={send}></Login>;\r\n      case \"accondPage\":\r\n        return <Accond {...state.context} send={send}></Accond>;\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n  return <>{render()}</>;\r\n}\r\n","import { Result } from \"antd\";\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function Err() {\r\n  return (\r\n    <div>\r\n      <Result\r\n        status=\"404\"\r\n        title=\"404\"\r\n        subTitle=\"Sorry, the page you visited does not exist.\"\r\n        extra={<Link to=\"/\">返回主页</Link>}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n"],"sourceRoot":""}